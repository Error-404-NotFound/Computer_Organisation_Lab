.data
    array: .word 1,3,5,2,4,6
    array_size: .word 6
    base: .word 0x10000000
    newline: .string "\n"
    delimiter: .string ", "
    prompt1: .string "The array is: "
    prompt2: .string "The new array is: "
    prompt3: .string "No it does not have 3 consecutive odds."
    buffer: .zero 255

.text
    .globl main
        
main:
    li a7 4
    la a0 prompt1
    ecall
    la a0 array
    lw a1 array_size
    jal printArray
    
    jal printNewline
    
    #split array
    srli t3 a1 1
    mv t0 a0
    mv a3 t3
    mv a2 a0
    li t2 0
    jal middle
    
    #shuffel the array
    jal shuffel

    #print answer
    li a7 4
    la a0 prompt2
    ecall
    la a0 array
    lw a1 array_size
    jal printArray

    #end the program
    li a7 10
    ecall

printArray:
    mv t0 a0
    mv t1 a1
    loop:
        li a7 1
        lw a0 0(t0)   
        ecall
        li a7 4
        la a0 delimiter
        ecall
        addi t0 t0 4
        addi t1 t1 -1
        bnez t1 loop
        ret
        
middle:
    beq t2 a3 endloop
    addi a2 a2 4
    addi t2 t2 1
    j middle
    endloop:
        ret

shuffel:
    srli t3 a1 1
    mv t0 a0
    mv a3 t3
    mv a3 t2
    mv t1 a2
    li t3 1
    o_loop:
        sw t0 0(t0)
        sw t1 4(t1)
        lw t4 0(t0)
        lw t5 4(t1)
        beq t3 t2 end_loop
        addi t0 t0 4
        addi t1 t1 4
        addi t3 t3 1
        j o_loop
        
    end_loop:
        ret


printNewline:
    la a0, newline
    li a7, 4
    ecall
    jr x1
